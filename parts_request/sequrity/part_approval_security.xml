<odoo>
    <!-- Rule: Supervisor sees only their own notifications -->
    <record id="part_approval_notification_rule_supervisor" model="ir.rule">
        <field name="name">Part Approval Notification: Supervisor Own Only</field>
        <field name="model_id" ref="model_part_approval_notification"/>
        <field name="domain_force">[('supervisor_id.user_id','=',user.id) , ('task_id.company_id', 'in', company_ids
            + [False])]
        </field>
        <field name="groups" eval="[(4, ref('base.group_user'))]"/>
    </record>

    <record id="part_approval_notification_rule_warehouse_manager" model="ir.rule">
        <field name="name">Part Approval Notification: Warehouse Manager Own Only</field>
        <field name="model_id" ref="model_part_approval_notification"/>
        <field name="domain_force">
            [
            ('manager_user_id', '=', user.id),
            ('task_id.company_id', 'in', company_ids + [False])
            ]
        </field>
        <field name="groups" eval="[(4, ref('base.group_user'))]"/>
    </record>

    <record id="rule_part_approval_user_own" model="ir.rule">
        <field name="name">Part Approval Notification - User Own</field>
        <field name="model_id" ref="model_part_approval_notification"/>
        <field name="domain_force">
            [('task_id.user_ids', 'in', [user.id])]
        </field>
        <field name="groups" eval="[(4, ref('base.group_user'))]"/>
    </record>


    <!-- Rule: Admin sees all notifications -->
    <record id="part_approval_notification_rule_admin" model="ir.rule">
        <field name="name">Part Approval Notification: Admin All</field>
        <field name="model_id" ref="model_part_approval_notification"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('base.group_system'))]"/>
    </record>

</odoo>
